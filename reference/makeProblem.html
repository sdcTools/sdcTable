<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a problem instance — makeProblem • sdcTable</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a problem instance — makeProblem"><meta property="og:description" content="Function makeProblem() is used to create sdcProblem objects."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcTable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.32.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/sdcTable.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/sdcTools/userSupport/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a problem instance</h1>
    <small class="dont-index">Source: <a href="https://github.com/sdcTools/userSupport/blob/master/R/makeProblem.R" class="external-link"><code>R/makeProblem.R</code></a></small>
    <div class="hidden name"><code>makeProblem.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function <code>makeProblem()</code> is used to create <a href="sdcProblem-class.html">sdcProblem</a> objects.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">makeProblem</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">dimList</span>,</span>
<span>  dimVarInd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  freqVarInd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  numVarInd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weightInd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sampWeightInd <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a data frame featuring at least one column for each desired
dimensional variable. Optionally the input data can feature variables
that contain information on cell counts, weights that should be used during
the cut and branch algorithm, additional numeric variables or variables that
hold information on sampling weights.</p></dd>


<dt id="arg-dimlist">dimList<a class="anchor" aria-label="anchor" href="#arg-dimlist"></a></dt>
<dd><p>a (named) list where the names refer to variable names in
input <code>data</code>. If the list is not named, it is required to specify argument
<code>dimVarInd</code>. Each list element can be one of:</p><ul><li><p><code>tree</code>: generated with <code>hier_*()</code> functions from package <code>sdcHierarchies</code></p></li>
<li><p><code>data.frame</code>: a two column <code>data.frame</code> containing the full hierarchy of
a dimensional variable using a top-to-bottom approach. The format of this
<code>data.frame</code> is as follows:</p><ul><li><p><strong>first column:</strong> a character vector specifying levels with each vector
element being a string only containing of <code>@</code>s from length 1 to n.
If a vector element consists of <code>i</code>-chars, the corresponding code
is of level <code>i</code>. The code <code>@</code> (one character) equals the grand
total (level=1), the code <code>@@</code> (two characters) is of level 2 (directly
below the overall total).</p></li>
<li><p><strong>second column:</strong> a character vector specifying level codes</p></li>
</ul></li>
<li><p><code>path</code>: absolute or relative path to a <code>.csv</code> file that
contains two columns seperated by semicolons (<code>;</code>) having the same structure
as the <code>"@;levelname"</code>-structure described above</p></li>
</ul></dd>


<dt id="arg-dimvarind">dimVarInd<a class="anchor" aria-label="anchor" href="#arg-dimvarind"></a></dt>
<dd><p>if <code>dimList</code> is a named list, this argument is
ignored (<code>NULL</code>). Else either a numeric or character vector
defining the column indices or names of dimensional variables
(specifying the table) within argument <code>data</code> are expected.</p></dd>


<dt id="arg-freqvarind">freqVarInd<a class="anchor" aria-label="anchor" href="#arg-freqvarind"></a></dt>
<dd><p>if not <code>NULL</code>, a scalar numeric or character vector
defining the column index or variable name of a variable holding counts
in <code>data</code></p></dd>


<dt id="arg-numvarind">numVarInd<a class="anchor" aria-label="anchor" href="#arg-numvarind"></a></dt>
<dd><p>if not <code>NULL</code>, a numeric or character vector
defining the column indices or variable names of additional numeric
variables with respect to <code>data</code></p></dd>


<dt id="arg-weightind">weightInd<a class="anchor" aria-label="anchor" href="#arg-weightind"></a></dt>
<dd><p>if not <code>NULL</code>, a scalar numeric or character vector
defining the column index or variable name holding costs within <code>data</code>
that should be used as objective coefficients when solving secondary
cell suppression problems.</p></dd>


<dt id="arg-sampweightind">sampWeightInd<a class="anchor" aria-label="anchor" href="#arg-sampweightind"></a></dt>
<dd><p>if not <code>NULL</code>, a scalar numeric or character vector
defining the column index or variable name of a variable holding sampling
weights within <code>data</code>. In case a complete table is provided, this parameter is
ignored.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a <a href="sdcProblem-class.html">sdcProblem</a> object</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Bernhard Meindl</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># loading micro data</span></span></span>
<span class="r-in"><span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"microdata1"</span>, package <span class="op">=</span> <span class="st">"sdcTable"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we can observe that we have a micro data set consisting</span></span></span>
<span class="r-in"><span><span class="co"># of two spanning variables ('region' and 'gender') and one</span></span></span>
<span class="r-in"><span><span class="co"># numeric variable ('val')</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify structure of hierarchical variable 'region'</span></span></span>
<span class="r-in"><span><span class="co"># levels 'A' to 'D' sum up to a Total</span></span></span>
<span class="r-in"><span><span class="va">dim.region</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'@'</span>,<span class="st">'@@'</span>,<span class="st">'@@'</span>,<span class="st">'@@'</span>,<span class="st">'@@'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> codes<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Total'</span>, <span class="st">'A'</span>,<span class="st">'B'</span>,<span class="st">'C'</span>,<span class="st">'D'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify structure of hierarchical variable 'gender'</span></span></span>
<span class="r-in"><span><span class="co"># using create_node() and add_nodes() (see ?manage_hierarchies)</span></span></span>
<span class="r-in"><span><span class="va">dim.gender</span> <span class="op">&lt;-</span> <span class="fu">hier_create</span><span class="op">(</span>root <span class="op">=</span> <span class="st">"Total"</span>, nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">hier_display</span><span class="op">(</span><span class="va">dim.gender</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ├─male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> └─female</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a named list with each element being a data-frame</span></span></span>
<span class="r-in"><span><span class="co"># containing information on one dimensional variable and</span></span></span>
<span class="r-in"><span><span class="co"># the names referring to variables in the input data</span></span></span>
<span class="r-in"><span><span class="va">dimList</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">dim.region</span>, gender <span class="op">=</span> <span class="va">dim.gender</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># third column containts a numeric variable</span></span></span>
<span class="r-in"><span><span class="va">numVarInd</span> <span class="op">&lt;-</span> <span class="fl">3</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># no variables holding counts, numeric values, weights or sampling</span></span></span>
<span class="r-in"><span><span class="co"># weights are available in the input data</span></span></span>
<span class="r-in"><span><span class="co"># creating an problem instance using numeric indices</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">makeProblem</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">microdata1</span>,</span></span>
<span class="r-in"><span>  dimList <span class="op">=</span> <span class="va">dimList</span>,</span></span>
<span class="r-in"><span>  numVarInd <span class="op">=</span> <span class="fl">3</span> <span class="co"># third variable in `data`</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using variable names is also possible</span></span></span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">makeProblem</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">microdata1</span>,</span></span>
<span class="r-in"><span>  dimList <span class="op">=</span> <span class="va">dimList</span>,</span></span>
<span class="r-in"><span>  numVarInd <span class="op">=</span> <span class="st">"val"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># what do we have?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "sdcProblem"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"package")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "sdcTable"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># have a look at the data</span></span></span>
<span class="r-in"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcProb2df.html">sdcProb2df</a></span><span class="op">(</span><span class="va">p1</span>, addDups <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  addNumVars <span class="op">=</span> <span class="cn">TRUE</span>, dimCodes <span class="op">=</span> <span class="st">"original"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcProb2df.html">sdcProb2df</a></span><span class="op">(</span><span class="va">p2</span>, addDups<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  addNumVars <span class="op">=</span> <span class="cn">TRUE</span>, dimCodes <span class="op">=</span> <span class="st">"original"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">df1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;strID&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      strID  freq sdcStatus   val region gender</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;char&gt; &lt;num&gt;    &lt;char&gt; &lt;num&gt; &lt;char&gt; &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:   0000   100         s  1284  Total  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:   0001    55         s   802  Total   male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:   0002    45         s   482  Total female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:   0100    20         s   198      A  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:   0101    18         s   178      A   male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:   0102     2         s    20      A female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:   0200    33         s   344      B  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:   0201    14         s   140      B   male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:   0202    19         s   204      B female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:   0300    22         s   224      C  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:   0301    12         s   118      C   male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:   0302    10         s   106      C female</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:   0400    25         s   518      D  Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:   0401    11         s   366      D   male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:   0402    14         s   152      D female</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">df1</span>, <span class="va">df2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bernhard Meindl.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

