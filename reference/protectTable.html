<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Protecting <a href='sdcProblem-class.html'>sdcProblem</a> objects — protectTable • sdcTable</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Protecting <a href='sdcProblem-class.html'>sdcProblem</a> objects — protectTable" />
<meta property="og:description" content="Function protectTable() is used to protect primary sensitive table cells
(that usually have been identified and set using
primarySuppression()). The function protects primary
sensitive table cells according to the method that has been chosen and the
parameters that have been set. Additional parameters that are used to control
the protection algorithm are set using parameter ...." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcTable</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.30</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sdcTable.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sdcTools/sdcTable">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Protecting <a href='sdcProblem-class.html'>sdcProblem</a> objects</h1>
    <small class="dont-index">Source: <a href='https://github.com/sdcTools/sdcTable/blob/master/R/protectTable.R'><code>R/protectTable.R</code></a></small>
    <div class="hidden name"><code>protectTable.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function <code>protectTable()</code> is used to protect primary sensitive table cells
(that usually have been identified and set using
<code><a href='primarySuppression.html'>primarySuppression()</a></code>). The function protects primary
sensitive table cells according to the method that has been chosen and the
parameters that have been set. Additional parameters that are used to control
the protection algorithm are set using parameter <code>...</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>protectTable</span>(<span class='no'>object</span>, <span class='no'>method</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>a <a href='sdcProblem-class.html'>sdcProblem</a> object that has created using <code><a href='makeProblem.html'>makeProblem()</a></code> and has
been modified by <code><a href='primarySuppression.html'>primarySuppression()</a></code></p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>a character vector of length 1 specifying the algorithm that should be
used to protect the primary sensitive table cells. Allowed values are:</p><ul>
<li><p><code>"OPT"</code>: protect the complete problem at once using a cut and branch algorithm. The optimal
algorithm should be used for small problem-instances only.</p></li>
<li><p><code>"HITAS"</code>: split the overall problem in smaller problems. These problems are
protected using a top-down approach.</p></li>
<li><p><code>"HYPERCUBE"</code>: protect the complete problem by protecting sub-tables with a fast
heuristic that is based on finding and suppressing geometric structures (n-dimensional cubes)
that are required to protect primary sensitive table cells.</p></li>
<li><p><code>"SIMPLEHEURISTIC"</code>: heuristic, quick procedure which might be applied to
large problem instances</p></li>
</ul></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>parameters used in the protection algorithm that has been selected. Parameters that
can be changed are:</p><ul>
<li><p><strong>general parameters</strong>:</p><ul>
<li><p><code>verbose</code>: logical scalar (default is <code>FALSE</code>) defining if verbose output should be produced</p></li>
<li><p><code>save</code>: logical scalar defining if temporary results should be saved in the current
working directory (<code>TRUE</code>) or not (<code>FALSE</code>) which is the default value.</p></li>
</ul></li>
<li><p>parameters used for <strong>"HITAS"</strong> and <strong>"OPT"</strong> algorithms:</p><ul>
<li><p><code>solver</code>: character vector of length 1 defining the solver to be used. Currently available choices
are limited to <code>"glpk"</code>.</p></li>
<li><p><code>timeLimit</code>: numeric vector of length 1 (or NULL) defining a time limit in minutes after which the
cut and branch algorithm should stop and return a possible non-optimal solution. Parameter <code>safe</code> has
a default value of <code>NULL</code></p></li>
<li><p><code>maxVars</code>: a integerish number (or <code>NULL</code>) defining the maximum problem size in terms of
decision variables for which an optimization should be tried. If the number of decision variables
in the current problem are larger than parameter <code>maxVars</code>, only a possible non-optimal, heuristic solution
is calculated. Parameter <code>maxVars</code> has a default value of <code>NULL</code> (no restrictions)</p></li>
<li><p><code>fastSolution</code>: logical scalar defining (default <code>FALSE</code>) if or if not the cut and branch algorithm will be started or if
the possibly non-optimal heuristic solution is returned independent of parameter <code>maxVars</code>.</p></li>
<li><p><code>fixVariables</code>: logical scalar (default <code>TRUE</code>) defining whether or not it should be tried to fix some variables
to <code>0</code> or <code>1</code> based on reduced costs early in the cut and branch algorithm.</p></li>
<li><p><code>approxPerc</code>: integerish scalar that defines a percentage for which a integer solution of the cut and branch
algorithm is accepted as optimal with respect to the upper bound given by the (relaxed) solution of the
master problem. Its default value is set to <code>10</code></p></li>
<li><p><code>useC</code>: logical scalar defining if c++ implementation of the secondary cell
suppression problem should be used, defaults to <code>FALSE</code></p></li>
</ul></li>
<li><p>parameters used for <strong>"HYPERCUBE"</strong> procedure:</p><ul>
<li><p><code>protectionLevel</code>: numeric vector of length 1 specifying the required protectionlevel for the procedure. Its default value is <code>80</code></p></li>
<li><p><code>suppMethod</code>: character vector of length 1 defining the rule on how to select the
'optimal' cube to protect a single sensitive cells. Possible choices are:</p><ul>
<li><p><code>minSupps</code>: minimize the number of additional secondary suppressions (this is also the default setting).</p></li>
<li><p><code>minSum</code>: minimize the sum of counts of additional suppressed cells</p></li>
<li><p><code>minSumLogs</code>: minimize the log of the sum of additional suppressed cells</p></li>
</ul></li>
<li><p><code>suppAdditionalQuader</code>: logical vector of length 1 specfifying if additional cubes should be
suppressed if any secondary suppressions in the 'optimal' cube are 'singletons'. Parameter
<code>suppAdditionalQuader</code> has a default value of <code>FALSE</code></p></li>
</ul></li>
<li><p>parameter(s) used for <code><a href='protectLinkedTables.html'>protectLinkedTables()</a></code>:</p><ul>
<li><p><code>maxIter</code>: integerish number specifying the maximal number of interations that should be make
while trying to protect common cells of two different tables. The default value of parameter is <code>10</code></p></li>
</ul></li>
<li><p>parameters used for the <strong>"SIMPLEHEURISTIC"</strong> procedure:</p><ul>
<li><p><code>detectSingletons</code>: logical, should a singleton-detection procedure be run before protecting the
data, defaults to <code>FALSE</code>.</p></li>
<li><p><code>threshold</code>: if not <code>NULL</code> (the default) an integerish number (&gt; <code>0</code>). If specified, a procedure similar
to the singleton-detection procedure is run that makes sure that for all (simple) rows in the table instance that
contains primary sensitive cells the suppressed number of contributors is <code>&gt;=</code> the specified threshold.</p></li>
</ul></li>
</ul></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <a href='safeObj-class.html'>safeObj</a> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The implemented methods may have bugs that yield in not-fully protected tables. Especially
the usage of <code>"OPT"</code>, <code>"HITAS"</code> and <code>"HYPERCUBE"</code> in production is not
suggested as these methods may eventually be removed completely. In case you encounter any problems,
please report it or use Tau-Argus (<a href='http://research.cbs.nl/casc/tau.htm'>http://research.cbs.nl/casc/tau.htm</a>).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># load problem (as it was created after performing primary suppression</span>
<span class='co'># in the example of \code{\link{primarySuppression}})</span>
<span class='no'>sp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/search.html'>searchpaths</a></span>()
<span class='no'>fn</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='no'>sp</span>[<span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span>(<span class='st'>"sdcTable"</span>, <span class='no'>sp</span>)], <span class='st'>"/data/problemWithSupps.RData"</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>""</span>)
<span class='no'>problem</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/get.html'>get</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span>(<span class='no'>fn</span>))

<span class='co'># protect the table using the 'HITAS' algorithm with verbose output</span>
<span class='no'>protectedData</span> <span class='kw'>&lt;-</span> <span class='fu'>protectTable</span>(<span class='no'>problem</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>'HITAS'</span>, <span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>useC</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; Starting to solve problem 1 / 1 in group 4 / 4 !
#&gt; --&gt; starting to do some preparations...[done]
#&gt; --&gt; calculated a heuristic solution with obj_val=42! [done]
#&gt; --&gt; solved the relaxed master problem (4 constraints) and got a valid, integer solution. [done]
#&gt; Finished! The algorithm has terminated with an obj_val of 42!
#&gt; </div><div class='input'>
<span class='co'># showing a summary</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>protectedData</span>)</div><div class='output co'>#&gt; 
#&gt; ######################################################
#&gt; ### Summary of the result object of class 'safeObj' ###
#&gt; ######################################################
#&gt; --&gt; The input data have been protected using algorithm HITAS.
#&gt; --&gt; The algorithm ran for 1 second.
#&gt; --&gt; To protect 1 primary sensitive cells, 3 cells need to be additionally suppressed.
#&gt; --&gt; A total of 11 cells may be published.
#&gt; 
#&gt; ###################################
#&gt; ### Structure of protected Data ###
#&gt; ###################################
#&gt; Classes 'data.table' and 'data.frame':	15 obs. of  5 variables:
#&gt;  $ region   : chr  "Total" "Total" "Total" "A" ...
#&gt;  $ gender   : chr  "Total" "male" "female" "Total" ...
#&gt;  $ Freq     : num  100 55 45 20 18 2 33 14 19 22 ...
#&gt;  $ val      : num  1284 802 482 198 178 ...
#&gt;  $ sdcStatus: chr  "s" "s" "s" "s" ...
#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt; 
#&gt;  - attr(*, "index")= int 
#&gt;   ..- attr(*, "__sdcStatus")= int  1 2 3 4 7 8 9 10 13 14 ...
#&gt; NULL</div><div class='input'>
<span class='co'># looking at the final table with result suppression pattern</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='fu'><a href='getInfo.html'>getInfo</a></span>(<span class='no'>protectedData</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>'finalData'</span>))</div><div class='output co'>#&gt;     region gender Freq  val sdcStatus
#&gt;  1:  Total  Total  100 1284         s
#&gt;  2:  Total   male   55  802         s
#&gt;  3:  Total female   45  482         s
#&gt;  4:      A  Total   20  198         s
#&gt;  5:      A   male   18  178         x
#&gt;  6:      A female    2   20         u
#&gt;  7:      B  Total   33  344         s
#&gt;  8:      B   male   14  140         s
#&gt;  9:      B female   19  204         s
#&gt; 10:      C  Total   22  224         s
#&gt; 11:      C   male   12  118         x
#&gt; 12:      C female   10  106         x
#&gt; 13:      D  Total   25  518         s
#&gt; 14:      D   male   11  366         s
#&gt; 15:      D female   14  152         s</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Bernhard Meindl <a href='mailto:bernhard.meindl@statistik.gv.at'>bernhard.meindl@statistik.gv.at</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bernhard Meindl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


